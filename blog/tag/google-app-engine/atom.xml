<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Google App Engine | Programming Design Notes]]></title>
  <link href="http://pro.ctlok.com/blog/tag/google-app-engine/atom.xml" rel="self"/>
  <link href="http://pro.ctlok.com/"/>
  <updated>2012-03-25T15:00:29+08:00</updated>
  <id>http://pro.ctlok.com/</id>
  <author>
    <name><![CDATA[Lawrence Cheung]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[放棄 Google App Engine 轉投 Amazon Web Service]]></title>
    <link href="http://pro.ctlok.com/2011/10/gae-aws.html"/>
    <updated>2011-10-25T18:06:00+08:00</updated>
    <id>http://pro.ctlok.com/2011/10/gae-aws</id>
    <content type="html"><![CDATA[<p>自從 <b>Google App Engine</b> 轉換收費模式後，已經計劃將現有的 <b>Project</b> 放到 <b>Amazon Web Service</b> 上，以前選用 <b>GAE</b> 的原因是因為便宜，而且有免費使用量。雖然限制很多，但我並不介意這些限制。例如將現有的 <b>Application</b> 移植到上 <b>GAE</b> 上是一件非常痛苦的事，<b>JPA</b> 有一大堆東西不能用，大部份 <b>Entity</b> 要重新規劃，資料移植又是另一件痛苦的事。因為每一個 <b>HTTP Request</b> 也有 30 秒限制，上傳檔案又要另外寫一次。因為價錢便宜，我不介意改。<br /><br />現在 <b>GAE</b> 有新的收費模式，不是以前只計 <b>CPU Hour</b> 的方式，是一個小時一個小時地計算。向 <b>Datasource</b> 存取資料又另外收費，新的收費模式:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-EJYNRtkgUws/TqaCTBMCXnI/AAAAAAAAA5M/68-DSN20SMk/s1600/Google%2Bcloud%2Bservices%2B%25E2%2580%2593%2BApp%2BEngine.png" imageanchor="1" style=""><img border="0" height="357" width="400" src="http://3.bp.blogspot.com/-EJYNRtkgUws/TqaCTBMCXnI/AAAAAAAAA5M/68-DSN20SMk/s400/Google%2Bcloud%2Bservices%2B%25E2%2580%2593%2BApp%2BEngine.png" /></a></div><br />新的收費模式很像 <b>Amazon Web Service</b>，我最不能接受的是 <b>GAE</b> 也跟 <b>AWS EC2</b> 以小時計算費用，<b>EC2</b> 收費如下:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-xGJOT4CKWDI/TqaEhWPZ77I/AAAAAAAAA5Y/XAQWvmUiCYM/s1600/Amazon%2BElastic%2BCompute%2BCloud%2B%2528Amazon%2BEC2%2529.png" imageanchor="1" style=""><img border="0" height="291" width="400" src="http://3.bp.blogspot.com/-xGJOT4CKWDI/TqaEhWPZ77I/AAAAAAAAA5Y/XAQWvmUiCYM/s400/Amazon%2BElastic%2BCompute%2BCloud%2B%2528Amazon%2BEC2%2529.png" /></a></div><br /><b>EC2</b> 一個小型 <b>(Small) Virtual Machine</b> 一小時才 <b>$0.085 USD</b>，<b>GAE</b> 一小時也要 <b>$0.080 USD</b>，但 <b>GAE</b> 的 <b>Virtual Machine</b> 全自動起動的，即是說你不能控制機器數目，雖然你可以設定 <b>Max Idle Instances</b> 數目，但系統在需要時也一樣會新增比你設定的最大數目還多的機器 (我試過好幾次)。如果你起動了 2 台機器，就是 <b>$0.080 USD * 2</b>，一小時收費 <b>$ 0.16 USD</b>。<b>EC2</b> 是可以一台機器放置多個 應用程式，而 <b>GAE</b> 只可以一台機器放置一個應用程式，還是 <b>EC2</b> 比較化算。<br /><br />最後如果你仍然選擇留守 <b>GAE</b>，這裡有幾個方法可幫助你省錢:<br /><br />1. 在 <b>appengine-web.xml</b> 加上:<br /><pre class="brush: xml">&lt;threadsafe&gt;true&lt;/threadsafe&gt;<br /></pre><br />可以令你的機器同時處理多個請求 <b>(Request)</b><br /><br />2. 設定 <b>Max Idle Instances</b> 令 <b>GAE</b> 盡量不起動超過這個數量的機器<br />3. 設定 <b>Min Pending Latency</b> 在機器處理一個請求超過這一個時間才新增機器 (其實我覺得這個設定很雞肋，每一個請求時間也不一樣，又不可以設定太高，亦不能設定太低)<br />4. 盡量用多一點 <b>Cache</b> ，減少存取 <b>Datasource</b><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/5998578522192555089-5183712475670212955?l=lawpronotes.blogspot.com' alt='' /></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[試用 Google Cloud SQL]]></title>
    <link href="http://pro.ctlok.com/2011/10/google-cloud-sql.html"/>
    <updated>2011-10-12T15:25:00+08:00</updated>
    <id>http://pro.ctlok.com/2011/10/google-cloud-sql</id>
    <content type="html"><![CDATA[<br /><b>Google</b> 剛剛出的新服務 - <b>Google Cloud SQL</b>，可能有太多人抱怨認為 <b>Google App Engine</b> 的 <b>Datastore</b> 太難用，而且現有的 <b>App</b> 移植到 <b>Google App Engine</b> 最大問題也是 <b>Datastore</b>。傳統的應用程式大多數使用 <b>Relational Database Management System (RDBMS)</b> 關聯式資料庫管理系統作為儲存資料的系統，但 RDBMS 是比較難去擴展整個系統，起初可以靠升級系統硬件去加強效能，但硬件升級愈高，性價比愈低。而 <b>Google App Engine</b> 的 <b>Datastore</b> 是 <b>NoSQL Database</b>，擴展系統是一件很容易的事，可以買 5 台中級機器去組成整個系統，不夠可以再加上去，可以無限地伸延 (理論上)。<b>NoSQL Database</b> 是沒有 <b>Join Table</b> 之類的語法，你只能靠應用程式層面實現 <b>Join Table</b>，這會提高應用程式開發難度。<br /><br /><b>Google Cloud SQL</b> 是用來解決傳統的應用程式移植或對使用 <b>RDBMS</b> 有開發經驗的程式員有多一個選擇。而 <b>Google Cloud SQL</b> 底層是使用 <b>MySQL</b> 實作的。<br /><br />打開 <b>Google Cloud SQL</b> 的 <b>Console</b> 是這個樣子:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-AFL_B5qOkts/TpU1gdRFDbI/AAAAAAAAA2w/w9ChEdPHgbA/s1600/Google%2BAPIs%2BConsole.png" imageanchor="1"><img border="0" height="271" src="http://2.bp.blogspot.com/-AFL_B5qOkts/TpU1gdRFDbI/AAAAAAAAA2w/w9ChEdPHgbA/s400/Google%2BAPIs%2BConsole.png" width="400" /></a></div>而容量方面有三個選擇，分別是 <b>1GB, 5GB</b> 和 <b>10GB</b><br /><div class="separator" style="clear: both; text-align: center;"><br /><a href="http://2.bp.blogspot.com/-GwMRdzzAYHc/TpU13HyeQsI/AAAAAAAAA28/JmzTqt_Vp-8/s1600/create.png" imageanchor="1"><img border="0" height="259" src="http://2.bp.blogspot.com/-GwMRdzzAYHc/TpU13HyeQsI/AAAAAAAAA28/JmzTqt_Vp-8/s400/create.png" width="400" /></a></div>試試新增一個 <b>MySQL Instance</b> (暫時只有 <b>Google App Engine</b> 可以存取到，只需加入 <b>GAE</b> 的 <b>ID</b> 就可以了):<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-Iv86h1Z3L2U/TpU2Jl8OyMI/AAAAAAAAA3I/orPzKAOFaCg/s1600/create2png.png" imageanchor="1"><img border="0" height="259" src="http://4.bp.blogspot.com/-Iv86h1Z3L2U/TpU2Jl8OyMI/AAAAAAAAA3I/orPzKAOFaCg/s400/create2png.png" width="400" /></a></div><br />處理中:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-IxvqvjC8jpY/TpU2m2NxVFI/AAAAAAAAA3U/FJl6SQ7Y9sU/s1600/proccess.png" imageanchor="1"><img border="0" height="259" src="http://4.bp.blogspot.com/-IxvqvjC8jpY/TpU2m2NxVFI/AAAAAAAAA3U/FJl6SQ7Y9sU/s400/proccess.png" width="400" /></a></div><br />完成後看一看 <b>Log</b>:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-LjLRu5ATrJA/TpU255TptoI/AAAAAAAAA3g/bNREUDBB72Y/s1600/log.png" imageanchor="1"><img border="0" height="243" src="http://4.bp.blogspot.com/-LjLRu5ATrJA/TpU255TptoI/AAAAAAAAA3g/bNREUDBB72Y/s400/log.png" width="400" /></a></div><br />再到 <b>Prompt</b> 看看:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-49KpC4a39f0/TpU3Fnw6LqI/AAAAAAAAA3s/qnBGRoU4PGI/s1600/prompt.png" imageanchor="1"><img border="0" height="259" src="http://4.bp.blogspot.com/-49KpC4a39f0/TpU3Fnw6LqI/AAAAAAAAA3s/qnBGRoU4PGI/s400/prompt.png" width="400" /></a></div><br />新增一個 <b>Database</b>，命名為 <b>mydb</b>:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-I9VIUW3JCT4/TpU3hqVeZ2I/AAAAAAAAA34/10YramRrLy0/s1600/create%2Bdb.png" imageanchor="1"><img border="0" height="259" src="http://4.bp.blogspot.com/-I9VIUW3JCT4/TpU3hqVeZ2I/AAAAAAAAA34/10YramRrLy0/s400/create%2Bdb.png" width="400" /></a></div><br />再新增一個 <b>Table</b> 命名為 <b>User:</b><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-r-8wljKeA54/TpU4nTtEIlI/AAAAAAAAA4E/JzBBbwSHiFg/s1600/create%2Buser.png" imageanchor="1"><img border="0" height="243" src="http://1.bp.blogspot.com/-r-8wljKeA54/TpU4nTtEIlI/AAAAAAAAA4E/JzBBbwSHiFg/s400/create%2Buser.png" width="400" /></a></div><br />我發現每一次只可以輸入一行指令，有分號隔著也不行，希望遲點會改善。<br />當然 <b>Google Cloud SQL</b> 有提供 <b>Import</b> 的功能，但檔案一定要存放在 <b>Google Cloud Storage</b> 上。<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-i504Lpps5q4/TpU7RL21tbI/AAAAAAAAA4c/NBmd8t3NNmg/s1600/import.png" imageanchor="1"><img border="0" height="243" src="http://1.bp.blogspot.com/-i504Lpps5q4/TpU7RL21tbI/AAAAAAAAA4c/NBmd8t3NNmg/s400/import.png" width="400" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-kDvbhJ22Js0/TpU7fXmKaeI/AAAAAAAAA4o/uAjXgZ-Be78/s1600/import-sql.png" imageanchor="1"><img border="0" height="243" src="http://3.bp.blogspot.com/-kDvbhJ22Js0/TpU7fXmKaeI/AAAAAAAAA4o/uAjXgZ-Be78/s400/import-sql.png" width="400" /></a></div><br /><br /><b>Import</b> 成功後就試試旗選取一埋資料:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-hVGDFOcJiSg/TpU82Jy9o4I/AAAAAAAAA40/quEBAuWWfiM/s1600/select%2Bcustomers.png" imageanchor="1" style=""><img border="0" height="400" width="116" src="http://1.bp.blogspot.com/-hVGDFOcJiSg/TpU82Jy9o4I/AAAAAAAAA40/quEBAuWWfiM/s400/select%2Bcustomers.png" /></a></div><br />再試試 <b>Join Table</b>:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-6nsvacH9BV0/TpU93-bZ4wI/AAAAAAAAA5A/SDrou4QGvHU/s1600/join%2Btable%2Border%2Border%2Bdetail.png" imageanchor="1" style=""><img border="0" height="400" width="74" src="http://4.bp.blogspot.com/-6nsvacH9BV0/TpU93-bZ4wI/AAAAAAAAA5A/SDrou4QGvHU/s400/join%2Btable%2Border%2Border%2Bdetail.png" /></a></div><br />一樣沒有問題。<br /><br /><b>SQL</b> 檔案: <a href="https://sites.google.com/site/lawrencespace/lawpronotes/download/sampledatabase.sql">sampledatabase.sql</a><br /><br />要申請 <b>Google Cloud SQL</b> 可到 <a href="https://code.google.com/apis/console/">https://code.google.com/apis/console/</a>，然後選取 <b>Service</b> 再在 <b>Google Cloud SQL</b> 按一下 <b>Request access</b>，填好表格後就等 <b>Google</b> 回覆就可以用了 (我是等了兩天才有回覆)。<br />遲一點再在 <b>GAE</b> 上試用。<div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/5998578522192555089-8575963009302117038?l=lawpronotes.blogspot.com' alt='' /></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Google App Engine java.net.URL 亂碼解決方法]]></title>
    <link href="http://pro.ctlok.com/2010/02/google-app-engine-javaneturl.html"/>
    <updated>2010-02-28T18:08:00+08:00</updated>
    <id>http://pro.ctlok.com/2010/02/google-app-engine-javaneturl</id>
    <content type="html"><![CDATA[<p>Google App Engine 使用 java.net.URL 讀取中文網頁資訊時會變成亂碼，解決方法在 new InputStreamReader 時指定網頁的編碼方式。<br />例如要讀取 hk.yahoo.com 的資訊:<br /><pre class="brush: java">URL url = new URL(&quot;http://hk.yahoo.com&quot;);<br />BufferedReader reader = new BufferedReader(new InputStreamReader(url.openStream(), &quot;UTF-8&quot;));<br /></pre>這樣便不會出現亂碼。<br /><br />相關書籍: <a imageanchor="1" target="_blank"  href="http://www.amazon.com/Programming-Google-App-Engine-Infrastructure/dp/059652272X?ie=UTF8&tag=program06-20&link_code=bil&camp=213689&creative=392969"><img alt="Programming Google App Engine: Build and Run Scalable Web Apps on Google&#39;s Infrastructure (Animal Guide)" src="http://ws.amazon.com/widgets/q?MarketPlace=US&ServiceVersion=20070822&ID=AsinImage&WS=1&Format=_SL160_&ASIN=059652272X&tag=program06-20" /></a><img src="http://www.assoc-amazon.com/e/ir?t=program06-20&l=bil&camp=213689&creative=392969&o=1&a=059652272X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important; padding: 0px !important" /><a imageanchor="1" target="_blank"  href="http://www.amazon.com/Using-Google-Engine-Charles-Severance/dp/059680069X?ie=UTF8&tag=program06-20&link_code=bil&camp=213689&creative=392969"><img alt="Using Google App Engine" src="http://ws.amazon.com/widgets/q?MarketPlace=US&ServiceVersion=20070822&ID=AsinImage&WS=1&Format=_SL160_&ASIN=059680069X&tag=program06-20" /></a><img src="http://www.assoc-amazon.com/e/ir?t=program06-20&l=bil&camp=213689&creative=392969&o=1&a=059680069X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important; padding: 0px !important" /><a imageanchor="1" target="_blank"  href="http://www.amazon.com/Beginning-Java-Google-App-Engine/dp/143022553X?ie=UTF8&tag=program06-20&link_code=bil&camp=213689&creative=392969"><img alt="Beginning Java Google App Engine" src="http://ws.amazon.com/widgets/q?MarketPlace=US&ServiceVersion=20070822&ID=AsinImage&WS=1&Format=_SL160_&ASIN=143022553X&tag=program06-20" /></a><img src="http://www.assoc-amazon.com/e/ir?t=program06-20&l=bil&camp=213689&creative=392969&o=1&a=143022553X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important; padding: 0px !important" /><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/5998578522192555089-7867666149829788530?l=lawpronotes.blogspot.com' alt='' /></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Google App Engine (GAE) 使用 Spring 3 Web MVC]]></title>
    <link href="http://pro.ctlok.com/2010/01/google-app-engine-spring-3-freamwork.html"/>
    <updated>2010-01-17T22:46:00+08:00</updated>
    <id>http://pro.ctlok.com/2010/01/google-app-engine-spring-3-freamwork</id>
    <content type="html"><![CDATA[<p><span style="font-size: small;">此教學使用 Eclipse IDE 制作</span><br /><div style="text-align: left;"><span style="font-size: small;"><br /></span> </div><div style="text-align: left;"><span style="font-size: small;">Eclipse 在這裡</span><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">下載</span></span></div><div style="text-align: left;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">網址:&nbsp;</span></span><a href="http://www.eclipse.org/downloads/"><span style="font-size: small;">http://www.eclipse.org/downloads/</span></a></div><div style="text-align: left;"><span style="font-size: small;">推薦</span><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">下載</span></span><span style="font-size: small;">&nbsp;Eclipse IDE for Java EE Developers</span></div><div style="text-align: left;"><span style="font-size: small;"><br /></span></div><div style="text-align: left;"><span style="font-size: small;">要取得 Google App Engine plugin for Eclipse 可以到這裡</span><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">下載</span></span></div><div style="text-align: left;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">網址:&nbsp;</span><a href="http://code.google.com/intl/zh-TW/eclipse/docs/download.html"><span style="font-size: small;">http://code.google.com/intl/zh-TW/eclipse/docs/download.html</span></a></span></div><div style="text-align: left;"><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;"><br /></span> </span></span></div><div style="text-align: left;"><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="color: #cc0000;"><span style="font-size: small;">有一點要注意</span></span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="color: #cc0000;"><span style="font-size: small;">Eclipse 預設是使用 JRE 而不是 JDK</span></span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="color: #cc0000;"><span style="font-size: small;">我們要將 JRE 改為 JDK 才不會發生錯誤</span></span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;"><br /></span> </span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">沒有 JDK 的請到</span><span style="-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; border-collapse: separate; font-family: Arial; line-height: normal;"><span style="font-size: small;">這裡</span><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">下載</span></span></span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; border-collapse: separate; font-family: Arial; line-height: normal;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">網址:&nbsp;</span><a href="http://java.sun.com/javase/downloads/index.jsp"><span style="font-size: small;">http://java.sun.com/javase/downloads/index.jsp</span></a></span></span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;"><br /></span> </span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">Window -&gt; Preferences -&gt; Java -&gt; Installed JREs -&gt; Add -&gt; Standard JVM</span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">Java 預設安裝路徑 :&nbsp;C:\Program Files\Java</span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">然後選擇 JDK 的資料夾</span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">按下 Finish 後請緊記要選取剛剛加入的 JDK</span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;"><br /></span> </span></span></div><div style="text-align: left;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">設定完成了第一步當然要先開一個新的 Google App Engine project</span></span></div><div style="text-align: left;"><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">選擇 File -&gt; New -&gt; Other -&gt; Google -&gt; Web Application Project</span></span></span></div><div style="text-align: left;"><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;"><br /></span> </span></span></div><div style="text-align: left;"><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">將會看見以下畫面</span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><br /></span></span><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/_fDN8R2Wgbcs/S1MSm0wv7jI/AAAAAAAAAUE/4PV0oBOuAgo/s1600-h/GAE_Create_Project.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/_fDN8R2Wgbcs/S1MSm0wv7jI/AAAAAAAAAUE/4PV0oBOuAgo/s320/GAE_Create_Project.png" /></a></div><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><br /></span></span><br /><div class="separator" style="clear: both; text-align: left;"><span style="font-size: small;">輸入 Project 名稱, Package&nbsp;名稱</span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-size: small;"><br /></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-size: small;">如果你不打算仲用 Google Web Toolkit 或根本不知這是什麼</span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-size: small;">請不要選取</span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-size: small;"><br /></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-size: small;">然後到&nbsp;</span><a href="http://www.springsource.com/download/community"><span style="font-size: small;">http://www.springsource.com/download/community</span></a><span style="font-size: small;">&nbsp;</span><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">下載最新的 Spring Freamwork 3</span></span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">17-01-2010 最新版本是&nbsp;</span><span style="-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; border-collapse: separate; font-family: Tahoma, Verdana, Arial, Helvetica, 'Bitstream Vera Sans', sans-serif; line-height: 17px;"><b><span style="font-weight: normal;"><span style="font-size: small;">Spring Framework&nbsp;3.0.0.RELEASE</span></span><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; font-weight: normal; line-height: 18px;"><span style="font-size: small;">&nbsp;</span></span></b></span></span></span></div><div class="separator" style="clear: both; text-align: left;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">下載完成解壓縮後</span></span></div><div class="separator" style="clear: both; text-align: left;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">到 dist 資料夾將以下的檔案複製到 war/WEB-INF/lib</span></span></div><div class="separator" style="clear: both; text-align: left;"><br /></div><ol><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.aop-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.asm-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.beans-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.context.support-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.context-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.core-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.expression-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.orm-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.web.servlet-3.0.0.RELEASE.jar</span></span></li><li><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">org.springframework.web-3.0.0.RELEASE.jar</span></span></li></ol><div><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">然後到&nbsp;</span><a href="http://commons.apache.org/downloads/download_logging.cgi"><span style="font-size: small;">http://commons.apache.org/downloads/download_logging.cgi</span></a><span style="font-size: small;">&nbsp;下載 common-logging.jar</span></span></span></div><div><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;"><span style="font-size: medium;"><span style="font-size: small;">17-01-2010 最新版本是 1.1</span></span></span></span></div><div><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">請將&nbsp;commons-logging-1.1.1.jar 複製到&nbsp;&nbsp;war/WEB-INF/lib</span></span></div><div><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">所需的檔案也齊了</span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;"><br /></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;">選取 Project -&gt; 滑鼠右鍵 -&gt; Properties -&gt; Java Build Path -&gt; Library -&gt; Add JARs...</span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;">選取&nbsp;war/WEB-INF/lib 下所有 JAR 檔案</span></span></div><div><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;"><br /></span></span></div><div><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-size: small; line-height: 18px;">下一步修改 war/WEB-INF/web.xml</span></span></div><br /></div><pre class="brush: xml">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br />&lt;web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />xmlns="http://java.sun.com/xml/ns/javaee"<br />xmlns:web="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"<br />xsi:schemaLocation="http://java.sun.com/xml/ns/javaee<br />http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd" version="2.5"&gt;<br /> &lt;servlet&gt;  <br />        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  <br />        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;  <br />        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;  <br />    &lt;/servlet&gt;  <br />    &lt;servlet-mapping&gt;  <br />        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;  <br />        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;  <br />    &lt;/servlet-mapping&gt;<br /> &lt;welcome-file-list&gt; <br />        &lt;welcome-file&gt;index.do&lt;/welcome-file&gt; <br />    &lt;/welcome-file-list&gt;<br />&lt;/web-app&gt;<br /></pre><br /><span style="font-size: small;">在 war/WEB-INF 下新增一個&nbsp;dispatcher-servlet.xml 檔案</span><br /><span style="font-size: small;">輸入以下內容</span><br /><span style="font-size: small;"><br /></span><br /><pre class="brush: xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br />&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;<br />    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;<br />    xsi:schemaLocation=&quot;<br />http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd<br />http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;<br />    &lt;context:component-scan base-package=&quot;com.lokhkg.www.controller&quot; /&gt;<br />    &lt;bean id=&quot;viewResolver&quot;<br />        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;<br />        &lt;property name=&quot;prefix&quot;&gt;<br />            &lt;value&gt;/WEB-INF/views&lt;/value&gt;<br />        &lt;/property&gt;<br />        &lt;property name=&quot;suffix&quot;&gt;<br />            &lt;value&gt;jsp&lt;/value&gt;<br />        &lt;/property&gt;<br />    &lt;/bean&gt;<br />&lt;/beans&gt;<br /></pre><br /><span style="font-size: small;">在 base-package 處請輸入你的 Package 名稱</span><br /><br /><span style="font-size: small;">現在在 Package 新增一個 Java Class</span><br /><span style="font-size: small;">名稱:&nbsp;IndexController.java</span><br /><span style="font-size: small;">輸入以下內容</span><br /><span style="font-size: small;"><br /></span><br /><pre class="brush: java">package gae.controller;<br /><br />import org.springframework.stereotype.Controller;<br />import org.springframework.ui.Model;<br />import org.springframework.web.bind.annotation.RequestMapping;<br /><br />@Controller<br />@RequestMapping(value = "/index.do")<br />public class IndexController{<br /> @RequestMapping<br /> public String helloWorld(Model model){<br />  model.addAttribute("message", "Hello World!");<br />  return "index";<br /> }<br />}<br /></pre><br /><span style="font-size: small;">在 war/WEB-INF 新增一個 views 資料夾</span><br /><span style="font-size: small;">在&nbsp;views 資料夾內新增 index.jsp 檔案</span><br /><span style="font-size: small;">輸入以下內容</span><br /><span style="font-size: small;"><br /></span><br /><pre class="brush: html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"<br />pageEncoding="UTF-8" isELIgnored="false" %&gt;<br />&lt;%@taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %&gt;<br /> &lt;?xml version="1.0" encoding="UTF-8"?&gt;<br /> &lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;<br />&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;<br /> &lt;head&gt;<br />  &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /&gt;<br />  &lt;title&gt;Index&lt;/title&gt;<br /> &lt;/head&gt;<br /> &lt;body&gt;<br />  &lt;p&gt;${message}&lt;/p&gt;<br /> &lt;/body&gt;<br />&lt;/html&gt;<br /></pre><br /><span style="font-size: small;">現在可以測試一下了</span><br /><span style="font-size: small;">選取 Project -&gt; 按下滑鼠右鍵 -&gt; Run As -&gt; Web Application</span><br /><span style="font-size: small;">如果出現&nbsp;The server is running at http://localhost:8888/</span><br /><span style="font-size: small;">而沒有其他錯誤</span><br /><span style="font-size: small;">在</span><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; font-family: arial, sans-serif; line-height: 18px;"><span style="font-size: small;">瀏覽器輸入網址:&nbsp;</span><a href="http://localhost:8888/"><span style="font-size: small;">http://localhost:8888/</span></a></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><span style="font-size: small;">將會出現 Hello World!</span></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;"><br /></span></span><br /><span style="font-family: arial, sans-serif;"><span style="-webkit-border-horizontal-spacing: 2px; -webkit-border-vertical-spacing: 2px; border-collapse: collapse; line-height: 18px;">檔案架構:</span></span><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/_fDN8R2Wgbcs/S1MdpvE-BYI/AAAAAAAAAUM/tKehXWR-Fcs/s1600-h/GAE_File_Structure.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" src="http://2.bp.blogspot.com/_fDN8R2Wgbcs/S1MdpvE-BYI/AAAAAAAAAUM/tKehXWR-Fcs/s320/GAE_File_Structure.png" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />完整範例:&nbsp;<a href="http://sites.google.com/site/lawrencespace/lawpronotes/download/GAE.7z">GAE.7z</a><br /><br />相關書籍:&nbsp;<a href="http://www.amazon.com/Spring-Recipes-Problem-Solution-Approach-Professionals/dp/1590599799?ie=UTF8&amp;tag=program06-20&amp;link_code=bil&amp;camp=213689&amp;creative=392969" imageanchor="1" target="_blank"><img alt="Spring Recipes: A Problem-Solution Approach (Books for Professionals by Professionals)" src="http://ws.amazon.com/widgets/q?MarketPlace=US&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL160_&amp;ASIN=1590599799&amp;tag=program06-20" /></a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=program06-20&amp;l=bil&amp;camp=213689&amp;creative=392969&amp;o=1&amp;a=1590599799" style="border: none !important; margin: 0px !important; padding: 0px !important;" width="1" /><a href="http://www.amazon.com/Spring-Action-Craig-Walls/dp/1933988134?ie=UTF8&amp;tag=program06-20&amp;link_code=bil&amp;camp=213689&amp;creative=392969" imageanchor="1" target="_blank"><img alt="Spring in Action" src="http://ws.amazon.com/widgets/q?MarketPlace=US&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL160_&amp;ASIN=1933988134&amp;tag=program06-20" /></a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=program06-20&amp;l=bil&amp;camp=213689&amp;creative=392969&amp;o=1&amp;a=1933988134" style="border: none !important; margin: 0px !important; padding: 0px !important;" width="1" /><a href="http://www.amazon.com/Beginning-Java-Google-App-Engine/dp/143022553X?ie=UTF8&amp;tag=program06-20&amp;link_code=bil&amp;camp=213689&amp;creative=392969" imageanchor="1" target="_blank"><img alt="Beginning Java Google App Engine" src="http://ws.amazon.com/widgets/q?MarketPlace=US&amp;ServiceVersion=20070822&amp;ID=AsinImage&amp;WS=1&amp;Format=_SL160_&amp;ASIN=143022553X&amp;tag=program06-20" /></a><img alt="" border="0" height="1" src="http://www.assoc-amazon.com/e/ir?t=program06-20&amp;l=bil&amp;camp=213689&amp;creative=392969&amp;o=1&amp;a=143022553X" style="border: none !important; margin: 0px !important; padding: 0px !important;" width="1" /><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/5998578522192555089-7043166299596499510?l=lawpronotes.blogspot.com' alt='' /></div></p>
]]></content>
  </entry>
  
</feed>
